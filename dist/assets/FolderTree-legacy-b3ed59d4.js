System.register(["./index-legacy-137abe7a.js","./index-legacy-3947c086.js","./api-legacy-60e9815c.js"],(function(e,r){"use strict";var n,t,o,l,a,c,g,u,i,h,d,s,p,f,C,b,m,$,y,v,w,k,x,_,S,j,z,F,O,R,B,I,M;return{setters:[e=>{n=e.aw,t=e.d,o=e.j,l=e.I,a=e.y,c=e.B,g=e.a8,u=e.M,i=e.v,h=e.aQ,d=e.w,s=e.x,p=e.z,f=e.A,C=e.r,b=e.a5,m=e.aB,$=e.a,y=e._,v=e.b9,w=e.ad,k=e.am,x=e.ba,_=e.K,S=e.C,j=e.b2,z=e.a3,F=e.E,O=e.p,R=e.ax,B=e.bb},e=>{I=e.B},e=>{M=e.j}],execute:function(){const r=R(),T=e=>{const[n,t]=C("/");return o(b,{class:"folder-tree-box",w:"$full",overflowX:"auto",get children(){return o(r.Provider,{get value(){return{value:n,onChange:r=>{t(r),e.onChange(r)},forceRoot:e.forceRoot??!1}},get children(){return o(A,{path:"/"})}})}})},A=e=>{const[t,l]=C([]),{value:c,onChange:u,forceRoot:i}=m(r),[h,d]=$((()=>M(e.path,y(),i))),{isOpen:s,onToggle:p}=n(),f=()=>c()===e.path;return o(b,{get children(){return[o(g,{spacing:"$2",get children(){return[o(a,{get when(){return!h()},get fallback(){return o(v,{size:"sm",get color(){return w()}})},get children(){return o(k,{get color(){return w()},as:I,get transform(){return s()?"rotate(90deg)":"none"},transition:"transform 0.2s",cursor:"pointer",onClick:()=>{p(),s()&&(async()=>{if(t().length>0)return;const e=await d();B(e,l)})()}})}}),o(x,{css:{whiteSpace:"nowrap"},fontSize:"$md",cursor:"pointer",px:"$1",rounded:"$md",get bgColor(){return f()?"$info8":"transparent"},get _hover(){return{bgColor:f()?"$info8":_()}},onClick:()=>{u(e.path)},get children(){return S((()=>"/"===e.path))()?"root":j(e.path)}})]}}),o(a,{get when(){return s()},get children(){return o(z,{mt:"$1",pl:"$4",alignItems:"start",spacing:"$1",get children(){return o(F,{get each(){return t()},children:r=>o(A,{get path(){return O(e.path,r.name)}})})}})}})]}})};e("M",(e=>{const r=t(),[n,l]=C(e.defaultValue??"");return o(f,{size:"xl",blockScrollOnMount:!1,get opened(){return e.opened},get onClose(){return e.onClose},get children(){return[o(u,{}),o(i,{get children(){return[o(d,{get children(){return r("home.toolbar.choose_dst_folder")}}),o(s,{get children(){return o(T,{onChange:l})}}),o(p,{display:"flex",gap:"$2",get children(){return[o(c,{get onClick(){return e.onClose},colorScheme:"neutral",get children(){return r("global.cancel")}}),o(c,{get loading(){return e.loading},onClick:()=>e.onSubmit?.(n()),get children(){return r("global.ok")}})]}})]}})]}})})),e("F",(e=>{const{isOpen:r,onOpen:C,onClose:b}=n(),m=t();return[o(g,{w:"$full",spacing:"$2",get children(){return[o(l,{get id(){return e.id},get value(){return e.value},onInput:r=>e.onChange(r.currentTarget.value),get readOnly(){return e.onlyFolder},get onClick(){return e.onlyFolder?C:()=>{}},get placeholder(){return m("global."+(e.onlyFolder?"choose_folder":"choose_or_input_path"))}}),o(a,{get when(){return!e.onlyFolder},get children(){return o(c,{onClick:C,get children(){return m("global.choose")}})}})]}}),o(f,{size:"xl",get opened(){return r()},onClose:b,get children(){return[o(u,{}),o(i,{get children(){return[o(h,{}),o(d,{get children(){return m("global.choose_folder")}}),o(s,{get children(){return o(T,{forceRoot:!0,get onChange(){return e.onChange}})}}),o(p,{get children(){return o(c,{onClick:b,get children(){return m("global.confirm")}})}})]}})]}})]}))}}}));
