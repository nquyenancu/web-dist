System.register(["./index-legacy-137abe7a.js","./api-legacy-60e9815c.js","./index-legacy-23bd039c.js","./Common-legacy-cb747673.js","./index-legacy-acfce738.js","./index-legacy-3947c086.js","./SettingItem-legacy-23033c56.js","./item_type-legacy-401bb746.js","./ResponsiveGrid-legacy-12772831.js"],(function(e,t){"use strict";var r,n,a,i,s,o,l,d,c,u,g,h,m,f,p,b,k,v,y,x,C,w,$,_,j,N,S,I,z,B,M,T,G,L,O;return{setters:[e=>{r=e.bB,n=e.t,a=e.d,i=e.r,s=e.a,o=e.b4,l=e.av,d=e.aw,c=e.j,u=e.bd,g=e.y,h=e.a8,m=e.W,f=e.am,p=e.a3,b=e.ba,k=e.C,v=e.bv,y=e.bF,x=e.B,C=e.A,w=e.M,$=e.v,_=e.aQ,j=e.w,N=e.x,S=e.T,I=e.I,z=e.z,B=e.bb,M=e.aN},e=>{T=e.l,G=e.u},e=>{L=e.G},e=>{O=e.default},()=>{},()=>{},()=>{},()=>{},()=>{}],execute:function(){const t=n('<svg width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g></svg>'),Z=n('<svg width="1em" height="1em" viewBox="0 0 24 24"><g stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path fill="currentColor" fill-opacity="0" stroke-dasharray="60" stroke-dashoffset="60" d="M3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.5s" values="60;0"></animate><animate fill="freeze" attributeName="fill-opacity" begin="0.8s" dur="0.15s" values="0;0.3"></animate></path><path fill="none" stroke-dasharray="14" stroke-dashoffset="14" d="M8 12L11 15L16 10"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="14;0"></animate></path></g></svg>');function A(e){return(()=>{const n=t.cloneNode(!0);return r(n,e,!0,!0),n})()}function D(e){return(()=>{const t=Z.cloneNode(!0);return r(t,e,!0,!0),t})()}e("default",(()=>{const e=a(),[t,r]=i(),[n,Z]=s((()=>o.get("/admin/index/progress"))),E=async()=>{const e=await Z();B(e,(e=>{r(e)}))},F=setInterval(E,5e3);l((()=>clearInterval(F))),E();const[Q,R]=s(T),W=async()=>{const e=await R();M(e),E()},[X,q]=s((()=>o.post("/admin/index/clear"))),H=async()=>{const e=await q();M(e),E()},[J,K]=s((()=>o.post("/admin/index/stop"))),P=async()=>{const e=await K();M(e),E()};let U,V;const[Y,ee]=s(G),te=async()=>{let e=[];U.value&&(e=U.value.split("\n"));let t=20;V.value&&(t=parseInt(V.value));const r=await ee(e,t);M(r),E()},{isOpen:re,onOpen:ne,onClose:ae}=d();return c(p,{spacing:"$2",w:"$full",alignItems:"start",get children(){return[c(u,{get children(){return e("manage.sidemenu.settings")}}),c(O,{get group(){return L.INDEX}}),c(u,{get children(){return e("indexes.current")}}),c(g,{get when(){return t()},get children(){return c(h,{spacing:"$2",w:"fit-content",shadow:"$md",rounded:"$lg",get bg(){return m("","$neutral3")()},get children(){return[c(f,{boxSize:"$28",color:"$accent9",p:"$2",get as(){return t()?.is_done?D:A}}),c(p,{spacing:"$2",flex:"1",alignItems:"start",mr:"$2",get children(){return[c(b,{get children(){return[k((()=>e("indexes.obj_count"))),":",c(v,{colorScheme:"info",ml:"$2",get children(){return t()?.obj_count}})]}}),c(b,{get children(){return[k((()=>e("indexes.last_done_time"))),":",c(v,{colorScheme:"accent",ml:"$2",get children(){return k((()=>!!t().last_done_time))()?y(t().last_done_time):e("indexes.unknown")}})]}}),c(g,{get when(){return t()?.error},get children(){return c(b,{css:{wordBreak:"break-all"},get children(){return[k((()=>e("indexes.error"))),":",c(v,{colorScheme:"danger",ml:"$2",get children(){return t().error}})]}})}})]}})]}})}}),c(h,{spacing:"$2",get children(){return[c(x,{colorScheme:"accent",onClick:[E,void 0],get loading(){return n()},get children(){return e("global.refresh")}}),c(x,{colorScheme:"danger",onClick:[H,void 0],get loading(){return X()},get children(){return e("indexes.clear")}}),c(x,{colorScheme:"warning",onClick:[P,void 0],get loading(){return J()},get children(){return e("indexes.stop")}}),c(x,{onClick:[W,void 0],get loading(){return Q()},get children(){return e("indexes."+(t()?.is_done?"rebuild":"build"))}})]}}),c(x,{onClick:ne,get children(){return e("indexes.update")}}),c(C,{get opened(){return re()},onClose:ae,get children(){return[c(w,{}),c($,{get children(){return[c(_,{}),c(j,{get children(){return e("indexes.update")}}),c(N,{get children(){return[c(u,{get children(){return e("indexes.paths_to_update")}}),c(S,{ref(e){"function"==typeof U?U(e):U=e}}),c(u,{get children(){return e("indexes.max_depth")}}),c(I,{value:20,type:"number",ref(e){"function"==typeof V?V(e):V=e}})]}}),c(z,{get children(){return c(x,{onClick:[te,void 0],get loading(){return Y()},get children(){return e("indexes.update")}})}})]}})]}})]}})}))}}}));
